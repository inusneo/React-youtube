(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{13:function(e,t,a){e.exports={app:"app_app__cewju",content:"app_content__ckDFI",video_active:"app_video_active__PK_9S",detail:"app_detail__Xmsnl",list:"app_list__2we4s"}},20:function(e,t,a){e.exports={detail:"video_detail_detail__2BkQh",desc:"video_detail_desc__3FZxM"}},30:function(e,t,a){e.exports={videos:"video_list_videos__1VCw_"}},32:function(e,t,a){e.exports=a(45)},4:function(e,t,a){e.exports={video:"video_item_video__37dg9",grid:"video_item_grid__2iJDD",list:"video_item_list__2jYRY",thumbnail_img:"video_item_thumbnail_img__2Mjrv",thumbnail:"video_item_thumbnail__1w2AL",metadata:"video_item_metadata__N-I6a",chthumbnail_img:"video_item_chthumbnail_img__igb5n",title:"video_item_title__3lIaP",channel:"video_item_channel__1dZ3U",count:"video_item_count__2l346"}},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(26),r=a.n(c),s=a(31),l=(a(43),a(23)),o=a(4),u=a.n(o),m=Object(n.memo)((function(e){var t=e.video,a=e.video,n=a.snippet,c=a.statistics,r=a.channelInfo,s=e.onVideoClick,l="list"===e.display?u.a.list:u.a.grid;return i.a.createElement("li",{className:"".concat(u.a.video," ").concat(l),onClick:function(){return s(t)}},i.a.createElement("div",{className:u.a.thumbnail},i.a.createElement("img",{className:u.a.thumbnail_img,src:n.thumbnails.medium.url,alt:"video thumbnail"})),i.a.createElement("div",{className:u.a.metadata},i.a.createElement("img",{className:u.a.chthumbnail_img,src:r.thumbnails.medium.url,alt:"channel thumbnail"}),i.a.createElement("div",{className:u.a.channel_box},i.a.createElement("p",{className:u.a.title},n.title),i.a.createElement("p",{className:u.a.channel},n.channelTitle),i.a.createElement("p",null,i.a.createElement("span",{className:u.a.count},"\uc870\ud68c\uc218 ",function(){var e=c.viewCount;return e>=1e4?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):e}(),"\ud68c")))))})),d=a(30),h=a.n(d),p=function(e){var t=e.videos,a=e.onVideoClick,n=e.display;return i.a.createElement("ul",{className:h.a.videos},t.map((function(e){return i.a.createElement(m,{key:e.id,video:e,onVideoClick:a,display:n})})))},_=a(6),v=a.n(_),f=Object(n.memo)((function(e){var t=e.onSearch,a=e.onVideoClick,c=Object(n.useRef)(),r=function(){var e=c.current.value;e&&t(e),c.current.value=""};return i.a.createElement("header",{className:v.a.header},i.a.createElement("div",{className:v.a.logo,onClick:function(){return a(null)}},i.a.createElement("img",{className:v.a.img,src:"./images/logo.png",alt:"logo"}),i.a.createElement("h1",{className:v.a.title},"Mytube")),i.a.createElement("div",{className:v.a.box},i.a.createElement("input",{ref:c,className:v.a.search,type:"search",placeholder:"Type a keywords...",onKeyPress:function(e){"Enter"===e.key&&r()}}),i.a.createElement("button",{className:v.a.btn,type:"submit",onClick:function(){r()}},i.a.createElement("img",{className:v.a.ico,src:"./images/search.png",alt:"search"}))))})),b=a(13),g=a.n(b),E=a(20),y=a.n(E),w=function(e){var t=e.video,a=e.video.snippet;return i.a.createElement("section",{className:y.a.detail},i.a.createElement("iframe",{className:y.a.video,title:a.title,type:"text/html",width:"100%",height:"450px",src:"https://www.youtube.com/embed/".concat(t.id),frameBorder:"0",allowFullScreen:!0}),i.a.createElement("h2",null,a.title),i.a.createElement("h3",null,a.channelTitle),i.a.createElement("pre",{className:y.a.desc},a.description))};var N=function(e){var t=e.youtube,a=Object(n.useState)([]),c=Object(l.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(null),u=Object(l.a)(o,2),m=u[0],d=u[1],h=function(e){d(e),window.scrollTo({top:0,behavior:"smooth"})},_=Object(n.useCallback)((function(e){d(null),t.search(e).then((function(e){return s(e)}))}),[t]);return Object(n.useEffect)((function(){t.mostPopular().then((function(e){return s(e)}))}),[t]),i.a.createElement("div",{className:g.a.app},i.a.createElement(f,{onSearch:_,onVideoClick:h}),i.a.createElement("section",{className:g.a.content},m&&i.a.createElement("div",{className:g.a.detail},i.a.createElement(w,{video:m})),i.a.createElement("div",{className:g.a.list},i.a.createElement(p,{videos:r,onVideoClick:h,display:h?"list":"grid"}))))},k=a(24),j=a(11),x=a.n(j),O=a(21),C=a(7),I=a(8),L=new(function(){function e(t){Object(C.a)(this,e),this.youtube=t,this.channelList=[],this.finalList=[],this.channels={}}return Object(I.a)(e,[{key:"mostPopular",value:function(){var e=Object(O.a)(x.a.mark((function e(){var t,a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.youtube.get("videos",{params:{part:"snippet, statistics",chart:"mostPopular",maxResults:"25",regionCode:"KR"}});case 2:return t=e.sent,this.finalList=[],t.data.items.map((function(e){return a.finalList.push(a.channel(e.snippet.channelId,e))})),e.abrupt("return",Promise.all(this.finalList).then((function(e){return e})));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"channel",value:function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.youtube.get("channels",{params:{part:"snippet, statistics",id:t}});case 2:return n=e.sent,console.log(n.data.items[0]),n.data.items[0].hasOwnProperty("snippet")&&(n.data.items[0].channelInfo=n.data.items[0].snippet,delete n.data.items[0].snippet),e.abrupt("return",this.channels=Object(k.a)({},n.data.items[0],{},a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,i=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.youtube.get("search",{params:{part:"snippet",maxResults:"25",q:t,type:"video",regionCode:"KR"}});case 2:return a=e.sent,n=[],a.data.items.map((function(e){return n.push(Object(k.a)({},e,{id:e.id.videoId}))})),this.finalList=[],n.map((function(e){return i.finalList.push(i.channel(e.snippet.channelId,e))})),e.abrupt("return",Promise.all(this.finalList).then((function(e){return e})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(s.a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{key:"AIzaSyBxwiBY7aIA9gvZl90ISjjruZMMtGd4w_A"}}));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(N,{youtube:L})),document.getElementById("root"))},6:function(e,t,a){e.exports={header:"search_header_header__3zkT2",logo:"search_header_logo__tK0eh",title:"search_header_title__2RdR8",box:"search_header_box__27CyC",search:"search_header_search__12JjY",btn:"search_header_btn__2Ulv9",ico:"search_header_ico__1JyBN"}}},[[32,1,2]]]);
//# sourceMappingURL=main.7cea811f.chunk.js.map